<template>
    <lightning-layout-item size="12">
        <template if:true={isLoading}>
            <div class='spinner-container'>
                <lightning-spinner alternative-text={CUSTOM_LABELS.messageLoading}
                                   size='large'>
                </lightning-spinner>
            </div>
        </template>
        <template if:false={isLoading}>
            <template if:false={isDefaultTemplate}>
                <template if:true={isGatewayAssignmentEnabled}>
                    <template if:false={isExpanded}>
                        <div class="uniform-top">
                            <lightning-button name="ga-show-button"
                                              variant="base"
                                              label={CUSTOM_LABELS.psShowGatewaysAndMethods}
                                              onclick={toggleSelectGatewayControls}
                                              class="slds-button hide-card-button"
                                              data-qa-locator="ga-show-button">
                            </lightning-button>
                            <lightning-button-icon name="ga-show-button-icon"
                                                   alternative-text={CUSTOM_LABELS.psShowGatewaysAndMethods}
                                                   variant="bare"
                                                   icon-name="utility:chevrondown"
                                                   onclick={toggleSelectGatewayControls}
                                                   class="slds-m-left_xxx-small"
                                                   data-qa-locator="ga-show-button-icon">
                            </lightning-button-icon>
                        </div>
                    </template>
                    <template if:true={isExpanded}>
                        <div class="uniform-top">
                            <lightning-button name="ga-hide-button"
                                              variant="base"
                                              label={CUSTOM_LABELS.psHideGatewaysAndMethods}
                                              onclick={toggleSelectGatewayControls}
                                              class='slds-button hide-card-button'
                                              data-qa-locator="ga-hide-button">
                            </lightning-button>
                            <lightning-button-icon name="ga-hide-button-icon"
                                                   alternative-text={CUSTOM_LABELS.psHideGatewaysAndMethods}
                                                   variant="bare"
                                                   icon-name="utility:chevronup"
                                                   onclick={toggleSelectGatewayControls}
                                                   class="slds-m-left_xxx-small"
                                                   data-qa-locator="ga-hide-button-icon">
                            </lightning-button-icon>
                        </div>
                        <div class="half-reduced">
                            <lightning-combobox name="gateway-combobox"
                                                value={selectedGateway}
                                                label={CUSTOM_LABELS.psSelectPaymentGateway}
                                                options={gatewayOptions}
                                                onchange={handleGatewaySelectionChange}
                                                data-qa-locator="gateway-combobox"
                                                variant="standard">
                            </lightning-combobox>
                        </div>
                    </template>
                </template>
                <template if:false={isGatewayAssignmentEnabled}>
                    <template if:false={isExpanded}>
                        <div class="uniform-top">
                            <lightning-button name="pm-show-button"
                                              variant="base"
                                              label={CUSTOM_LABELS.psShowPaymentMethods}
                                              onclick={toggleSelectGatewayControls}
                                              class='slds-button hide-card-button'
                                              data-qa-locator="pm-show-button">
                            </lightning-button>
                            <lightning-button-icon name="pm-show-button-icon"
                                                   alternative-text={CUSTOM_LABELS.psShowPaymentMethods}
                                                   variant="bare"
                                                   icon-name="utility:chevrondown"
                                                   onclick={toggleSelectGatewayControls}
                                                   class="slds-m-left_xxx-small"
                                                   data-qa-locator="pm-show-button-icon">
                            </lightning-button-icon>
                        </div>
                    </template>
                    <template if:true={isExpanded}>
                        <div class="uniform-top">
                            <lightning-button name="pm-hide-button"
                                              variant="base"
                                              label={CUSTOM_LABELS.psHidePaymentMethods}
                                              onclick={toggleSelectGatewayControls}
                                              class='slds-button hide-card-button'
                                              data-qa-locator="pm-hide-button">
                            </lightning-button>
                            <lightning-button-icon name="pm-hide-button-icon"
                                                   alternative-text={CUSTOM_LABELS.psHidePaymentMethods}
                                                   variant="bare"
                                                   icon-name="utility:chevronup"
                                                   onclick={toggleSelectGatewayControls}
                                                   class="slds-m-left_xxx-small"
                                                   data-qa-locator="pm-hide-button-icon">
                            </lightning-button-icon>
                        </div>
                    </template>
                </template>
                <template if:true={isExpanded}>
                    <div class="uniform-top">
                        <label class="slds-form-element__label" >{CUSTOM_LABELS.psSelectPaymentMethods}</label>
                        <lightning-input name="checkboxACH"
                                         label={CUSTOM_LABELS.psACH}
                                         checked={isACHEnabled}
                                         disabled={isACHDisabled}
                                         onchange={handleACHChange}
                                         data-name="checkboxACH"
                                         variant="standard"
                                         type="checkbox"
                                         data-qa-locator="checkboxACH">
                        </lightning-input>
                        <lightning-input name="checkboxCreditCard"
                                         label={CUSTOM_LABELS.RD2_Credit_Card_Payment_Method_Label}
                                         checked={isCreditCardEnabled}
                                         disabled={isCreditCardDisabled}
                                         onchange={handleCreditCardChange}
                                         data-name="checkboxCreditCard"
                                         variant="standard"
                                         type="checkbox"
                                         data-qa-locator="checkboxCreditCard">
                        </lightning-input>
                    </div>
                </template>
            </template>
        </template>
    </lightning-layout-item>
</template>
