<template>
    <lightning-card>
        <template if:true={shouldDisplayWarning}>
            <template if:true={giftInViewHasSoftCredits}>
                <c-util-inline-text icon-name="utility:warning"
                                    icon-variant="warning"
                                    icon-size="small"
                                    text="Soft credits in Gift Entry is not supported for recurring gifts.">
                </c-util-inline-text>
            </template>
            <template if:true={giftInViewHasReviewDonation}>
                <c-util-inline-text icon-name="utility:warning"
                                    icon-variant="warning"
                                    icon-size="small"
                                    text="Reviewing an open donation is not supported for recurring gifts.">
                </c-util-inline-text>
            </template>
        </template>

        <c-rd2-entry-form-schedule-section
            if:false={shouldDisplayWarning}
            rd2-state={rd2State}
            data-id='scheduleComponent'
            onerrorevent={handleChildComponentError}
            ontypechange={handleRecurringTypeChange}
            ondayofmonthchange={handleDayOfMonthChange}
            onstartdatechange={handleStartDateChange}
            onperiodchange={handleRecurringPeriodChange}
            onperiodtypechange={handleRecurringPeriodTypeChange}
            onfrequencychange={handleFrequencyChange}
            oninstallmentschange={handleInstallmentsChange}
            >
        </c-rd2-entry-form-schedule-section>
        <div slot='footer'>
            <div class='slds-theme_shade slds-p-around_small'>
                <lightning-layout horizontal-align="end">
                    <lightning-layout-item>
                        <lightning-button
                            class='slds-m-horizontal_xx-small'
                            label={labels.commonCancel}
                            onclick={handleCancel}
                            >
                        </lightning-button>
                        <lightning-button
                            if:false={shouldDisplayWarning}
                            class='slds-m-horizontal_xx-small'
                            label={applyScheduleButton}
                            onclick={handleAddSchedule}
                            variant="brand"
                            >
                        </lightning-button>
                    </lightning-layout-item>
                </lightning-layout>
            </div>
        </div>
    </lightning-card>
</template>
