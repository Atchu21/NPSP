<template>
    <c-util-page-header>
        <h1 slot="title">
            <span class="slds-page-header__title"
                  title={CUSTOM_LABELS.geHeaderGiftEntry}>
                {CUSTOM_LABELS.geHeaderGiftEntry}
            </span>
        </h1>
        <div slot="actions"
             class="slds-button-group"
             role="group">
            <lightning-button label={CUSTOM_LABELS.geButtonEnterGifts}
                              if:true={isAccessible}
                              title={CUSTOM_LABELS.geButtonEnterGifts}
                              variant="neutral"
                              class="slds-float_right"
                              onclick={navigateToForm}>
            </lightning-button>
        </div>
    </c-util-page-header>

    <div class="slds-card slds-card_extension">

        <template if:true={isLoading}>
            <lightning-spinner alternative-text={CUSTOM_LABELS.geAssistiveSpinner}>
            </lightning-spinner>
        </template>

        <div if:false={isAccessible}
             class=slds-p-top_x-large>
            <c-util-illustration title={CUSTOM_LABELS.geErrorPageLevelAdvancedMappingHeader}
                                 message={CUSTOM_LABELS.geErrorPageLevelAdvancedMappingBody}
                                 size='large'
                                 variant='lake-mountain'>
            </c-util-illustration>
        </div>

        <template if:true={isAccessible}>
            <lightning-tabset active-tab-value="Templates">

                <lightning-tab value="Batches"
                               label="Batches"
                               class="slds-p-around_none">
                    <template if:true={isLoading}>
                        <c-util-stencil row-count="5"
                                        column-count="5">
                        </c-util-stencil>
                    </template>

                    <template if:false={isLoading}>
                        <div class="slds-grid slds-wrap slds-m-bottom_large slds-p-bottom_large">
                            <div class="slds-size_1-of-1 slds-p-around_medium">
                                <div class="slds-card slds-card_extension">
                                    <c-ge-list-view data-id='Batches'
                                                    list-name='Batches'
                                                    object-api-name='npsp__DataImportBatch__c'
                                                    title='Batches'
                                                    custom-icon='standard:account'
                                                    ontogglemodal={toggleModal}>
                                    </c-ge-list-view>
                                </div>
                            </div>
                        </div>
                    </template>
                </lightning-tab>

                <lightning-tab value="Templates"
                               label={CUSTOM_LABELS.commonTemplates}
                               class="slds-p-around_none">
                    <template if:true={isLoading}>
                        <c-util-stencil row-count="5"
                                        column-count="5">
                        </c-util-stencil>
                    </template>

                    <template if:false={isLoading}>
                        <div class="slds-grid slds-wrap slds-m-bottom_large slds-p-bottom_large">
                            <div class="slds-size_1-of-1 slds-p-around_medium">
                                <div class="slds-card slds-card_extension">
                                    <c-ge-list-view data-id={templatesListViewName}
                                                    list-name={templatesListViewName}
                                                    object-api-name={formTemplateObjectApiName}
                                                    title={CUSTOM_LABELS.commonTemplates}
                                                    custom-icon={templatesListViewIcon}
                                                    description={CUSTOM_LABELS.geBodyTemplatesTabDescription}
                                                    sorted-by={sortTemplatesBy}
                                                    sorted-direction={sortTemplatesDirection}
                                                    limit={templatesListViewDefaultLimit}
                                                    actions={templatesTableActions}
                                                    onrowaction={handleTemplatesTableRowAction}
                                                    ontogglemodal={toggleModal}
                                                    show-standard-footer='true'>
                                        <lightning-button label={CUSTOM_LABELS.geButtonTemplatesTabCreateTemplate}
                                                          class="slds-m-right_small"
                                                          onclick={handleNewFormTemplate}
                                                          slot="actions">
                                        </lightning-button>
                                    </c-ge-list-view>
                                </div>
                            </div>
                        </div>
                    </template>
                </lightning-tab>
            </lightning-tabset>
        </template>
    </div>
</template>
