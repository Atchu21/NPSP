<!-- Enhanced Recurring Donations Active Schedule Visualizer -->
<template>
    <lightning-card
            title={labels.lblScheduleTitle}
            variant="narrow"
            icon-name="action:defer">

        <div class="slds-m-around_medium" if:true={error}>
            <span class="slds-text-color_error">{error}</span>
        </div>

        <div if:true={schedules}>
            <template for:each={schedules} for:item="schedule">
                <div class="slds-m-around--large" key={schedule.scheduleNumber}>
                    <article class="slds-tile slds-media slds-m-around--medium" >
                        <div class="slds-media__figure">
                          <span class="slds-icon_container" title="Record icon">
                              <lightning-icon icon-name="standard:record" alternative-text="Record" size="small"></lightning-icon>
                          </span>
                        </div>
                        <div class="slds-media__body">
                            <h3 class="slds-tile__title slds-truncate" if:false={schedule.isCurrent} title={labels.lblFutureSchedule}>{labels.lblFutureSchedule}</h3>
                            <h3 class="slds-tile__title slds-truncate" if:true={schedule.isCurrent} title={labels.lblCurrentSchedule}>{labels.lblCurrentSchedule}</h3>
                            <div class="slds-tile__detail slds-m-around--xx-small">
                                <dl class="slds-list_horizontal slds-wrap slds-grid">

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblAmount}>{labels.lblAmount}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12"><lightning-formatted-number format-style="currency" currency-code={currencyIsoCode} value={schedule.amount}></lightning-formatted-number></dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblPmtMethod}>{labels.lblPmtMethod}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12">{schedule.paymentMethod}</dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblCampaign}>{labels.lblCampaign}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12">{schedule.campaign}</dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblStartDate}>{labels.lblStartDate}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12"><lightning-formatted-date-time value={schedule.startDate} year="2-digit" month="2-digit" day="2-digit"></lightning-formatted-date-time></dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblEndDate}>{labels.lblEndDate}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12" if:false={schedule.endDate}>{labels.lblNone}</dd>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12" if:true={schedule.endDate}><lightning-formatted-date-time value={schedule.endDate} year="2-digit" month="2-digit" day="2-digit"></lightning-formatted-date-time></dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblPeriod}>{labels.lblPeriod}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12">{schedule.period}</dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" title={labels.lblFrequency}>{labels.lblFrequency}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12">{schedule.frequency}</dd>

                                    <dt class="slds-dl_horizontal__label slds-text-color_weak slds-medium-size_5-of-12" if:true={schedule.dayOfMonth} title={labels.lblDayOfMonth}>{labels.lblDayOfMonth}</dt>
                                    <dd class="slds-dl_horizontal__detail slds-medium-size_7-of-12" if:true={schedule.dayOfMonth}>{schedule.dayOfMonth}</dd>

                                </dl>
                            </div>
                        </div>
                    </article>
                </div>
            </template>
        </div>
    </lightning-card>
</template>