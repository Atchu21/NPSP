<template>
    <template if:true={isAccessible}>
        <lightning-layout multiple-rows='true' class='ge-form-container slds-p-bottom_medium'>
            <lightning-layout-item size='12' class='slds-card'>
                <div if:true={hasPageLevelError} class="slds-size_1-of-1 slds-card slds-p-around_small">
                    <c-util-page-level-message variant='error'>

                        <ul slot="body"
                            class="slds-list_dotted slds-text-color_error">
                            <template for:each={pageLevelErrorMessageList}
                                        for:item="errorMessageWrapper">
                                <li key={errorMessageWrapper.index}>
                                    {errorMessageWrapper.errorMessage}
                                </li>
                            </template>
                        </ul>
                    </c-util-page-level-message>
                </div>
                <template for:each={sections} for:item='section'>
                    <c-ge-form-section key={section.id} section={section}></c-ge-form-section>
                </template>
            </lightning-layout-item>
        </lightning-layout>

        <div if:true={showSpinner} class="spinnerContainer">
            <lightning-spinner alternative-text={label.messageLoading} variant="brand" size="large"></lightning-spinner>
        </div>

        <div class="slds-docked-form-footer ge-form-footer">
            <lightning-button label={label.geCancel} title={label.geCancel} onclick={handleCancel} class="slds-m-left_x-small"></lightning-button>
            <lightning-button
                    variant="brand"
                    label={saveActionLabel}
                    title={saveActionLabel}
                    onclick={handleSave}
                    class="slds-m-left_x-small"
                    disabled={isUpdateActionDisabled}>
            </lightning-button>
        </div>
    </template>

    <div class="slds-card slds-card_extension" if:false={isAccessible}>
        <div class="slds-p-top_x-large">
            <c-util-illustration title={CUSTOM_LABELS.geErrorPageLevelAdvancedMappingHeader}
                                 message={CUSTOM_LABELS.geErrorPageLevelAdvancedMappingBody}
                                 size='large'
                                 variant='lake-mountain'>
            </c-util-illustration>
        </div>
    </div>
</template>
